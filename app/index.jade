- var scripts = []
- scripts.push('timeline.module')
- scripts.push('timeline.routes')
- scripts.push('timeline-api.service')
- scripts.push('timeline.controller')
- scripts.push('timeline.service')

- var bowers = []
- bowers.push('angular/angular')
- bowers.push('angular-resource/angular-resource')
- bowers.push('angular-ui-router/release/angular-ui-router')

- var cssPaths = ['reset', 'timeline', 'submissions']
- var landscapes = ['timeline', 'submissions']
- var desktops = []

doctype html
html(ng-app='timeline')
  head

    // removeIf(production)

    script(type="text/javascript", src="/bower_components/sinon/index.js")

    script(type="text/javascript", src="/bower_components/auto-config-fake-server/dist/auto-config-fake-server.js")

    script(type="text/javascript").
      AutoConfigFakeServer.init();

      AutoConfigFakeServer.fakeServer.autoRespond = true;

      AutoConfigFakeServer.consume('/bower_components/work-api-schema/work-api-schema.json');

    // endRemoveIf(production)

    title Timeline

    meta(charset='utf-8')

    meta(http-equiv='X-UA-Compatible', content='IE=edge, chrome=1')

    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no')

    each path in cssPaths
      link(href="styles/#{path}.css", rel="stylesheet")

    each path in landscapes
      link(href="styles/#{path}.landscape.css", rel="stylesheet", media="(min-width: 568px)")

    each path in desktops
      link(href="styles/#{path}.desktop.css", rel="stylesheet", media="(min-width: 767px)")

  body
    main.layout-main.timeline("role"="main", class="{{ pageClass }}", ui-view="")

    each path in bowers
      script(src="bower_components/#{path}.js", type="text/javascript")

    each path in scripts
      script(src="scripts/#{path}.js", type="text/javascript")

    script.
      angular.module("app.constants", [])

      .constant("apiUrl", "https://api.topcoder-dev.com/v3/")

