@import "work-includes";

timeline {
  display         : block;
  padding         : $padding-big;
  background-color: $neutral-color-lightest;

  h2 {
    text-align: center;
    font-weight: bold;
  }

  > main {
    @include flex-center();
    @include align-items(stretch);
    @include flex-wrap(nowrap);

    margin-top: $margin;
    position: relative;

    .timeline {
      width: 2px;
      background-color: $neutral-color-light;
      margin: $margin;
      margin-left: 0;
    }

    > ul {
      width: 100%;

      .splitter {
        height: $margin-small;
      }
    }
  }

  .avatars, .files {
    @include flex-center(center);
  }

  .avatar {
    width         : 35px;
    height        : 35px;
    border-radius : 50%;
  }

  .avatar-box {
    @include flex-center(center);

    avatar {
      margin-right: $margin-small;
    }
  }

  .point {
    background-color: $primary-color;
    border          : 1px solid $primary-color;
    width           : 24px;
    height          : 24px;
    border-radius   : 50%;
    position        : absolute;
    left            : -(24px/2) + 2px;
    text-align      : center;
    color           : $white;
    box-shadow      : 0 6px 6px -6px $neutral-color-dark;


    &::before {
      content    : '+';
      font-size  : 20px;
      font-family: arial;
      line-height: 24px;
    }

    &.expanded {
      &::before {
        content: "-";
      }
    }
  }

  h1, h4 {
    margin-top: 0;
  }

  .event-group {
    box-shadow      : 0 6px 6px -6px $neutral-color;
    background-color: $white;
    padding         : $padding;

    > header {
      @include clearfix();

      h4 {
        float: left;
      }

      time {
        display: block;
        float: right;
      }
    }

    .events {
      @include transition (all 0.3s ease-in-out);

      // uncomment for hide/show interaction
      max-height: 0px;
      overflow: hidden;
      position: relative;

      .point {
        background-color: $neutral-color-lightest;
        color           : $primary-color;
        display         : none;
      }

      &.expanded {
        max-height: 700px;
        position: initial;

        &.expand-big {
          max-height: 1400px;
        }

        .point {
          display: block;
        }
      }
    }
  }

  .complete {
    h3 {
      text-align: left;
      margin-top: 0;
    }

    p {
      color: $primary-color;
    }

    .point {
      margin-top: $margin-smallest;
      background-color: $neutral-color-lightest;

      &::before {
        content         : "";
        display         : inline-block;
        background-color: $primary-color;
        width           : 8px;
        height          : 8px;
        border-radius   : 50%;
      }
    }
  }

  .event {
    text-align: center;

    time {
      display: block;
      margin-top: $margin-smallest;
    }

    .avatar-box, p, button, .avatars {
      margin-top: $margin-small;

      &:first-child {
        margin-top: 0;
      }
    }

    &.finish {
      background-color: $primary-color;
      padding         : $padding;
      color           : $white;
      text-align      : center;
    }

    .avatars {
      li {
        margin-left: $margin-smallest;

        &:first-child {
          margin-left: 0;
        }
      }
    }
  }
}