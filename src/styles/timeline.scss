@import "work-includes";

timeline {
  display: block;

  .transition {
    overflow: hidden;
  }

  h5 {
    &.inactive {
      color: $neutral-color-light;
    }
  }

  > main.flex {
    position: relative;

    .timeline {
      width           : 2px;
      background-color: $neutral-color-light;
      margin          : $margin;
      margin-left     : 0;
    }

    > ul {
      width: 100%;

      > .splitter {
        height: 10px;
      }
    }
  }

  .avatar {
    width         : 35px;
    height        : 35px;
    border-radius : 50%;
  }

  .avatar-box {
    avatar {
      margin-right: $margin-small;
    }

    .co-pilot {
      margin-top: 0;
    }
  }

  .point {
    width           : 24px;
    height          : 24px;
    position        : absolute;
    left            : -(24px/2) + 2px;
    box-shadow      : 0 6px 6px -6px $neutral-color-dark;
    border-radius   : 50%;
    background-color: $neutral-color-lightest;

    .icon {
      width: 100%;
      height: 100%;
    }

    .plus {
      display: block;
    }

    .minus {
      display: none;
    }

    &.expanded {
      .plus {
        display: none;
      }

      .minus {
        display: block;
      }
    }
  }

  .disabled {
    .point {
      background-color: $white;
      border-color: $neutral-color-light;

      &::before {
        display: none;
      }
    }

    > header {
      > h5 {
        color: $neutral-color;
      }
    }

    &.complete {
      height: 50px; /* need static height due to timeline line */

      h3 {
        color: $neutral-color;
      }

      .point {
        &::before {
          display: none;
        }
      }
    }
  }

  .event-group {
    background-color: $white;

    > header { /* simulate white padding */
      border             : $margin solid $white;
      border-bottom-width: $margin-small;
      background-color   : $white;
    }

    &.expanded {
      h5 {
        font-weight: $font-weight-bold;
      }
    }

    .events {
      > * { /* simulate white padding */
        border: $padding solid $white;

        &:last-child {
          border-bottom-width: $padding-big;
        }

        &.hr {
          border-top: 0;
        }

        background-color: $white;
      }

      > li {
        > hr {
          margin: 0;
          background-color: $neutral-color-lightest;
        }
      }

      .point {
        background-color: $neutral-color-lightest;
        display         : block;
      }

      &.no-height {
        .point {
          display: none;
        }
      }
    }
  }

  .complete {
    p {
      color: $primary-color;
    }

    .point {
      margin-top: $margin-smallest;
      background-color: $neutral-color-lightest;

      &::before {
        content         : "";
        display         : inline-block;
        background-color: $primary-color;
        width           : 8px;
        height          : 8px;
        border-radius   : 50%;
      }
    }
  }

  .event {
    text-align: center;

    time {
      display   : block;
      margin-top: 10px;
    }

    &.finish {
      background-color: $primary-color;
      padding         : $padding;
      color           : $white;
      text-align      : center;
      border          : 0; /* remove simulated padding */

      time {
        color: $white;
      }
    }

    .avatars {
      li {
        margin-left: $margin-smallest;

        &:first-child {
          margin-left: 0;
        }
      }
    }
  }
}
